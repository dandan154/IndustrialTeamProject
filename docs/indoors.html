<html>
    <head>
        <title>wrld.time.js Demo</title>        
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.2.0/leaflet.css" />
        <link rel="stylesheet" href="css/wrld.time.css" />
        <link rel="stylesheet" href="css/atom-one-dark.css">
        <link href="https://fonts.googleapis.com/css?family=Roboto:300,400" rel="stylesheet">
        <link rel="stylesheet" href="css/docs.css">
        <link href="https://cdn-webgl.wrld3d.com/wrldjs/addons/resources/latest/css/wrld.css" rel="stylesheet"/>
        <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
        <script src="https://code.jquery.com/ui/1.12.0/jquery-ui.min.js"></script>
        <script src="https://cdn-webgl.wrld3d.com/wrldjs/addons/indoor_control/latest/indoor_control.js"></script>
    </head>
    <body style="margin: 0">
        <div class="page-container">
        <div class="content">

<h1>wrld.time.js</h1>
<p class="centered"><a href="#">Examples</a> | <a href="#">Fork on GitHub</a></p>

<h2>Indoors</h2>

<h3>Getting started</h3>
<p>Indoors time series visualisation is supported in wrld.time.js. To label data points as being indoors, please refer to the <a href="geojson.html">GeoJSON guide</a>.</p>

<p>First, setup your Wrld map:</p>

<pre><code class="html">&lt;div id="map"&gt;&lt;/div&gt;
&lt;script src="https://cdn-webgl.wrld3d.com/wrldjs/dist/latest/wrld.js"&gt;&lt;/script&gt;
&lt;script src="wrld.time.js"&gt;&lt;/script&gt;
&lt;script&gt;
    var map = L.Wrld.map("map", "[YOUR WRLD API KEY]", { 
        center: [ 56.462, -2.9707 ], 
        indoorsEnabled: true 
    });
&lt;/script&gt;</code></pre>

<p>Next, you can create a wrldTime object by passing in the Wrld map instance and your data:</p>

<pre><code class="javascript">wrldTime(map, data);</code></pre>

<p>Data can either be the GeoJSON object, or a URL pointing to the GeoJSON file.</p>

<h3>Options</h3>
<h4>showIndoorPointsExternally</h4>
You can set the "showIndoorPointsExternally" option to true if you want to display indoor data points on the global map:

<pre><code class="javascript">wrldTime(map, data, {
    showIndoorPointsExternally: true
});</code></pre>

</div>
        <div style="position: relative; flex-grow: 1; width: 50%;">
            <div id="widget-container" class="wrld-widget-container"></div>
            <div class="map" id="map"></div>
        </div>
        
        </div>
        <script src="https://cdn-webgl.wrld3d.com/wrldjs/dist/latest/wrld.js"></script>
        <script src="js/heatmap.js"></script>
        <script src="js/highlight.pack.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
        <script src="js/wrld.time.js"></script>
        <script src="js/randomDataGenerator.js"></script>
        <script>
            var map = L.Wrld.map("map", "21343d1ce0a398a7244c29e3c619ea37", { 
                center: [ 56.46, -2.978 ],
                indoorsEnabled: true
            });

            var indoorControl = new WrldIndoorControl("widget-container", map);

            /**
             * Creates the wrldTime object
             */
            var wrldTimeObj = wrldTime(map, 'data/indoors.json', {
                heatmap: true,
                horizontalPosition: 'center',
                verticalPosition: 'bottom',
                heatmapIntensity: 0.8,
                indoorHeatmapIntensity: 0.8
            });

            map.indoors.on('indoorentranceadd', (e) => {
                if (e.entrance.getIndoorMapId() == 'westport_house')
                    map.indoors.enter('westport_house');
            });
            map.indoors.on('indoormapenter', () => {
                setTimeout(() => {
                    wrldTimeObj._heatmapLayer.options.intensityFactor = 0.8
                }, 1000);
            });
        </script>
    </body>
</html>